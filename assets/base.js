!function(e){e.fn.csSlider=function(n){e(this).each(function(){new t(e(this),n)})};let t=function(t,n){let i,o,a,l,s,c={itemsPerPage:1,itemsMargin:20,itemsCount:0,slideByPage:!0,itemWidth:0,contentWidth:0,maxHeight:"unset",minHeight:"unset",type:"",loop:!1,arrows:!0,arrowsStyle:"",dots:!1},r=0,u=0,f=0,d=0;this.construct=function(t,n){e.extend(c,n),t.addClass("cs-slider"),c.arrows&&t.append('<a class="arrow '+c.arrowsStyle+' left prev"></a><a class="arrow '+c.arrowsStyle+' right next"></a>'),c.dots&&(s=e('<div class="dots"></div>').appendTo(t)),(i=e("> .content",t)).addClass(c.type),i.wrapInner('<div class="slides"></div>'),o=e("> .slides",i),a=e("> .next",t),l=e("> .prev",t),c.itemsCount=e("> div",o).length,1===c.itemsPerPage&&(c.slideByPage=!1,c.itemsMargin=0),c.itemWidth=(i.outerWidth()-c.itemsPerPage*c.itemsMargin)/c.itemsPerPage,"unset"!==c.maxHeight&&t.css("max-height",c.maxHeight),"unset"!==c.minHeight&&t.css("min-height",c.minHeight),m(),p(),h(),g(),k(),y()};let h=function(){if(c.loop){let t=o.children().slice(0,c.itemsPerPage).clone(),n=o.children().slice(-c.itemsPerPage).clone();t.appendTo(o).addClass("clone"),n.prependTo(o).addClass("clone"),c.itemsCount=e("> div",o).length,u=c.itemsPerPage,f=c.itemsCount-c.itemsPerPage-c.itemsPerPage,d=u,P()}},m=function(){e("> div",o).each(function(){e(this).css({width:c.itemWidth,"margin-left":c.itemsMargin/2,"margin-right":c.itemsMargin/2}),c.contentWidth+=c.itemWidth+c.itemsMargin,"unset"!==c.maxHeight&&e(this).css("max-height",c.maxHeight),"unset"!==c.minHeight&&e(this).css("min-height",c.minHeight)})},p=function(){c.loop?(l.css("visibility","visible"),a.css("visibility","visible")):(r>0?l.css("visibility","visible"):l.css("visibility","hidden"),r+c.itemsPerPage>=c.itemsCount?a.css("visibility","hidden"):a.css("visibility","visible"))},g=function(){a.bind("click",v),l.bind("click",$)},k=function(){if(c.dots){let t=c.itemsCount;c.loop&&(t-=2*c.itemsPerPage);for(let n=0;n<t;n+=c.itemsPerPage){let t=n;c.loop&&(t+=c.itemsPerPage);let i=e('<span class="dot" idx="'+t+'"></span>').appendTo(s);0===n&&i.addClass("selected"),i.on("click",function(){e('.dot[idx="'+r+'"]',s).removeClass("selected"),r=e(this).attr("idx"),e(this).addClass("selected"),C()})}}},y=function(){if(i.hasClass("zoom")&&i.hasClass("image")){let n=t.find(".zoom-popup"),i=n.csPopup();e("> *",o).on("click",function(){let t=e(this).css("background-image");t=t.replace("url(","").replace(")","").replace(/\"/gi,""),e("img",n).attr("src",t),i.show()})}},v=function(){c.loop?(c.slideByPage?r+=c.itemsPerPage:r++,u+r>=c.itemsCount&&(d=u)):(c.slideByPage?r+=c.itemsPerPage:r++,r>c.itemsCount&&(r=c.itemsCount)),C()},$=function(){c.loop?(c.slideByPage?r-=c.itemsPerPage:r--,r<=0&&(d=f)):(c.slideByPage?r-=c.itemsPerPage:r--,r<0&&(r=0)),C()},C=function(){p(),a.unbind(),l.unbind();let t=-1*c.itemWidth*r;o.animate({textIndent:0},{duration:300,step:function(n,i){e(this).css({transform:"translateX("+t+"px)","-webkit-transform":"translateX("+t+"px)",transition:"all .3s linear"})},complete:function(){g(),P()}})},P=function(){if(0!==d){let t=-1*e(e("> div",o).get(d)).position().left;o.css({transform:"translateX("+t+"px)",transition:"unset"}),r=d,d=0}};this.construct(t,n)}}(jQuery),function(e){e.fn.csPopup=function(n){e(this).each(function(){new t(e(this),n)})};let t=function(t,n){let i,o,a,l={};this.construct=function(t,n){e.extend(l,n),t.append('<div class="close">'),t.wrapInner('<div class="content">'),i=e("> .content",t),o=t.attr("trigger"),a=e(".close",t),e('[popup-trigger="'+o+'"]').on("click",function(e){e.preventDefault(),s()}),e(t).on("click",function(n){let i=e(n.target);(i.is(t)||i.is(a))&&c()})};let s=function(){t.addClass("show"),i.removeClass("animated-out").addClass("animated-in"),e("html").addClass("hide-overflow")},c=function(){i.removeClass("animated-in").addClass("animated-out").delay(300).queue(function(e){t.removeClass("show"),e()}),e("html").removeClass("hide-overflow")};this.construct(t,n)};e(".cs-popup").csPopup()}(jQuery),function(e){e.fn.csBeforeAfter=function(n){e(this).each(function(){new t(e(this),n)})};let t=function(t,n){let i={},o=!1,a=t.children().length,l=0;this.construct=function(t,n){if(e.extend(i,n),a<2)return;let c=0;t.children().each(function(){c++,e(this).wrap('<div class="item"></div>').parent().attr("item-id",c),c>1&&e(this).parent().after(u(c)),e(this).wrap('<div class="con"></div>')});for(let e=2;e<=a;e++)o=e,s(1170/a*(e-1));o=!1,e(".scroller",t).bind("mousedown touchstart",function(t){o=parseInt(e(this).attr("scroller-id")),e(this).addClass("scrolling")}),e("body").bind("mouseup mouseleave touchend touchcancel",function(n){o=!1,e(".scroller",t).each(function(){e(this).removeClass("scrolling")})}),e("body").bind("mousemove touchmove",function(e){if(!o)return;let n=e.pageX;n-=t.offset().left,e.pageX>l?s(n,!1):s(n,!0),l=e.pageX}),e(window).on("load",function(){f()}),e(window).resize(function(){f()})};let s=function(n,i){let l=Math.max(25,Math.min(n,t[0].offsetWidth-25)),s=e('[scroller-id="'+o+'"]',t);2===a?(s.css("left",l-25+"px"),e('[item-id="'+a+'"]',t).width(l+"px")):(c(o,s,l,1),r(i,s,l))},c=function(n,i,o,l){i.css("left",o+5*l+"px"),2===n?e('[item-id="'+a+'"]',t).width(o+25*l+"px"):n===a?e('[item-id="2"]',t).width(o+25*l+"px"):e('[item-id="'+(a-n+2)+'"]',t).width(o+25*l+"px")},r=function(n,i,l){if(n)if(2===o);else{let n=0;for(let a=o-1;a>=2;a--){let o=e('[scroller-id="'+a+'"]',t);o.offset().left+5>i.offset().left&&(n++,o.css("left",l-5*n+"px"),c(a,o,l,-1*n))}}else if(o===a);else{let n=0;for(let s=o+1;s<=a;s++){let o=e('[scroller-id="'+s+'"]',t);o.offset().left-5<i.offset().left&&(n++,o.css("left",l+5*n+"px"),c(s,o,l,-1*n))}}},u=function(e){return'<div style="z-index:'+(a-e)+';" class="scroller" scroller-id="'+e+'"><svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><polygon points="0 50 37 68 37 32 0 50" style="fill:var(--primary);"/><polygon points="100 50 64 32 64 68 100 50" style="fill: var(--primary);"/></svg></div>'},f=function(){let e=t.find(".con").height();t.css("height",e+"px")};this.construct(t,n)};e(".cs-beforeafter").csBeforeAfter()}(jQuery),function(e){e.fn.csForm=function(n){e(this).each(function(){new t(e(this),n)})};let t=function(t,n){let i,o={};this.construct=function(t,n){e.extend(o,n),i=e('<div class="lock">').appendTo(t),t.submit(function(t){t.preventDefault(),e.ajax({url:$_BASEURL+"addLead",method:"post",data:new FormData(this),dataType:"json",contentType:!1,cache:!1,processData:!1,beforeSend:function(){i.addClass("show"),i.append('<div class="loader">')},success:function(e){console.log(e),"ok"===e.status?setTimeout(function(){console.log($_BASEURL+"addLead"),yaCounter51223982.reachGoal("zayavka"),gtag("event","done",{event_category:"zayavka"}),i.empty(),i.append('<span class="icon success"></span> Спасибо, ваши данные успешно отправлены!<br>Мы свяжемся с Вами в ближайшее время!')},3e3):setTimeout(function(){i.empty(),i.append('<span class="icon fail"></span> Извините! При отправке возникла ошибка, пожалуйста перезагрузите страницу и попробуйте еще раз')},3e3)},error:function(e){console.log(e),setTimeout(function(){i.empty(),i.append('<span class="icon fail"></span> Извините! При отправке возникла ошибка, пожалуйста перезагрузите страницу и попробуйте еще раз')},3e3)}})})},this.construct(t,n)}}(jQuery),$(function(){let e=0;function t(){let t=$("header");e>50?t.hasClass("mini")||t.addClass("mini"):t.hasClass("mini")&&t.removeClass("mini")}$(document).ready(function(){$(".about-slider").csSlider({loop:!0}),$(".style-slider").csSlider({loop:!0,type:"image",minHeight:"380px",maxHeight:"380px"}),$(".lead-form").csForm(),$('input[data-mask="tel"]').inputmask({mask:"8 (999) 999-99-99"}),$('input[data-mask="date"]').inputmask({mask:"99.99.9999",placeholder:"dd.mm.YYYY"}),$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){let e=$(this.hash);(e=e.length?e:$("[name="+this.hash.slice(1)+"]")).length&&$("html, body").animate({scrollTop:e.offset().top-50},800,function(){})}}),$("[scrollTo]").click(function(e){$("html,body").animate({scrollTop:$("#"+$(this).attr("scrollTo")).offset().top-50},1e3)}),t(),$("footer").append('<div class="copyright"><a href="https://primeproduction.ru" target="_blank"><img src="/assets/logo_full_horizontal_white.svg" alt="Prime Production"></a></div>'),$("header .tel.dropdown").on("click",function(){}),$(".full-price-btn").on("click",function(e){e.preventDefault(),$(".full-price-container").removeClass("d-none"),$(".overlay").removeClass("d-none")}),$(".full-price-close").on("click",function(e){e.preventDefault(),$(".full-price-container").addClass("d-none"),$(".overlay").addClass("d-none")}),$(".overlay").on("click",function(e){e.preventDefault(),$(".full-price-container").addClass("d-none"),$(".overlay").addClass("d-none")}),$(".menu__icon").on("click",function(){$(this).closest(".menu").toggleClass("menu_state_open")}),$(".menu__links-item").on("click",function(){$(".menu").removeClass("menu_state_open")}),$('a[href="tel:8 (499) 113-12-41"]').on("click",function(){return yaCounter51223982.reachGoal("BelyevoKlicknaTelefon"),!0}),$('a[href="tel:8 (499) 677-63-18"]').on("click",function(){return yaCounter51223982.reachGoal("KashirkaKlicknaTelefon"),!0}),$('a[href="tel:8 (499) 380-81-96"]').on("click",function(){return yaCounter51223982.reachGoal("KhimkiKlicknaTelefon"),!0}),$('a[href="tel:8 (495) 128-26-53"]').on("click",function(){return yaCounter51223982.reachGoal("TepliyStanKlicknaTelefon"),!0}),$('a[href="tel:8 (499) 113-93-06"]').on("click",function(){return yaCounter51223982.reachGoal("RumyntsevoKlicknaTelefon"),!0}),$('a[href="tel:8 (499) 490-58-47"]').on("click",function(){return yaCounter51223982.reachGoal("PyatnickayaKlicknaTelefon"),!0}),$('a[href="tel:8 (499) 348-25-18"]').on("click",function(){return yaCounter51223982.reachGoal("IperiyaKlicknaTelefon"),!0}),$('a[href="tel:8 (499) 380-60-49"]').on("click",function(){return yaCounter51223982.reachGoal("MezdunarodKlicknaTelefon"),!0}),$("#mega-himki").on("click",function(){return yaCounter51223982.reachGoal("link_himki"),!0}),$("#mega-tepli-stan").on("click",function(){return yaCounter51223982.reachGoal("link_tepliy-stan"),!0}),$("#kashirskaya").on("click",function(){return yaCounter51223982.reachGoal("link_kashirka"),!0}),$("#mezdunarodnaya").on("click",function(){return yaCounter51223982.reachGoal("link_city"),!0}),$("#imperia").on("click",function(){return yaCounter51223982.reachGoal("link_imperiya"),!0}),$("#dobrininskaya").on("click",function(){return yaCounter51223982.reachGoal("link_pyat"),!0}),$("#belyevo").on("click",function(){return yaCounter51223982.reachGoal("link_belyaevo"),!0}),$("#rumyancevo").on("click",function(){return yaCounter51223982.reachGoal("link_comcity"),!0}),$('a[href="tel:8 (499) 348-87-31"]').on("click",function(){return gtag("event","click",{event_category:"BelyevoKlicknaTelefon"}),!0}),$('a[href="tel:8 (499) 113-03-57"]').on("click",function(){return gtag("event","click",{event_category:"PyatnickayaKlicknaTelefon"}),!0}),$('a[href="tel:8 (499) 350-15-97"]').on("click",function(){return gtag("event","click",{event_category:"IperiyaKlicknaTelefon"}),!0}),$('a[href="tel:8 (499) 322-85-63"]').on("click",function(){return gtag("event","click",{event_category:"KashirkaKlicknaTelefon"}),!0}),$('a[href="tel:8 (499) 322-98-94"]').on("click",function(){return gtag("event","click",{event_category:"KhimkiKlicknaTelefon"}),!0}),$('a[href="tel:8 (499) 128-49-26"]').on("click",function(){return gtag("event","click",{event_category:"TepliyStanKlicknaTelefon"}),!0}),$('a[href="tel:8 (499) 380-78-92]').on("click",function(){return gtag("event","click",{event_category:"MezdunarodKlicknaTelefon"}),!0}),$('a[href="tel:8 (499) 490-67-38]').on("click",function(){return gtag("event","click",{event_category:"RumyntsevoKlicknaTelefon"}),!0})}),$(window).bind("scroll",function(){e=$(window).scrollTop(),t()})});